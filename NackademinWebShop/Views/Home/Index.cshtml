@using NackademinWebShop.Controllers
@model NackademinWebShop.ViewModels.Products.ProductSearchListViewModel

@{
    ViewData["Title"] = "Home Page";
    ViewBag.Breadcrumbs = new List<BreadcrumbViewModel>()
{
        new("Home", nameof(HomeController.Index), "Home", false),
    };
}
<div class="row mb-3 align-items-center">
    <div class="col-lg-6 mb-2 mb-lg-0">
        <p class="text-small text-muted mb-0">Showing @Model.Products.Count() products</p>
    </div>
    <div class="col-lg-6">
        <ul class="list-inline d-flex align-items-center justify-content-lg-end mb-0">
            <li class="list-inline-item">
                <form method="get" asp-action="Index" asp-controller="Home">
                    <select class="selectpicker ml-auto" name="sortOrder" data-width="200" data-style="bs-select-form-control" data-title="Default sorting" onchange="this.form.submit()">
                        <option value="default">Default sorting</option>
                        <option value="asc">Price: Low to High</option>
                        <option value="desc">Price: High to Low</option>
                    </select>
                    <input name="Search" value="@Model.SearchWord" type="hidden">
                </form>
            </li>
        </ul>
    </div>
</div>

@if (!string.IsNullOrEmpty(@Model.SearchWord))
{
    <h2>Search Result For: @Model.SearchWord</h2>
}
<div class="row">
    @foreach (var product in Model.Products)
    {
        <div class="col-lg-4 col-sm-6">
            <div class="product text-center">
                <div class="mb-3 position-relative">
                    <div class="badge text-white badge-">
                    </div><a class="d-block" asp-controller="Product" asp-action="Detail" asp-route-Id="@product.Id"><img class="img-fluid w-100" src="~/img/@product.ProductPicture" alt="..."></a>
                </div>
                <h6>
                    <a class="reset-anchor" asp-controller="Product" asp-action="Detail" asp-route-Id="@product.Id">@product.Name</a>
                </h6>
                <p class="small text-muted">@product.Price</p>
            </div>
        </div>
    }
</div>